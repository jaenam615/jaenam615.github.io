---
title: "신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션"
writer: James
date: 2025-07-20 00:00:01 +0900
categories: [devlog]
tags: [devlog, ddia]
pin: false
math: true
mermaid: true
image:
  path: https://dataintensive.net/images/book-cover.png
---

# 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션

## Summary: 데이터 중심 애플리케이션의 기초

---

> 데이터 중심(Data-Intensive) 애플리케이션은 다양한 **데이터 시스템 구성 요소**로 이루어져 있습니다. 각 요소는 특정 역할을 맡고 있으며, 이들 간의 효율적인 협업이 시스템의 성능을 결정합니다.

- **`Database`**: 애플리케이션 동작에 필요한 데이터를 읽고 씁니다.
- **`Cache`**: 계산 비용이 큰 작업의 결과를 기억합니다.
- **`Search Index`**: 키워드 검색과 필터링을 빠르게 수행합니다.
- **`Stream Processing`**: 비동기 메시지를 전달해 실시간 처리를 가능하게 합니다.
- **`Batch Processing`**: 대량의 누적 데이터를 주기적으로 분석합니다.

이러한 작업들은 보통 각기 다른 도구(DB, 캐시, 메시지 큐 등)를 통해 처리되며, 이들은 인터페이스를 통해 애플리케이션 코드와 연결됩니다.

---

## 애플리케이션의 핵심 **비기능적 요구사항** 3가지

---

### 1. 신뢰성 (Reliability)

> 시스템이 문제가 발생하더라도 **올바르게 작동**해야 합니다.

#### ✅ 핵심 개념: **내결함성(fault-tolerant)**, **탄력성(resilient)**

- _결함(fault)_: 사양에서 벗어난 시스템의 구성 요소 (예: 디스크 장애)
- _장애(failure)_: 사용자에게 잘못된 결과를 제공하는 상태

#### 🎯 예방이 우선이다!

특히 보안처럼 **해결책이 아예 없는 경우**가 있다면, 오히려 일부러 장애를 발생시켜 내성을 기르는 편이 낫습니다.

---

#### 💡 해결 가능한 결함 유형

**하드웨어 결함**

- 중복(redundancy) 구성: 장애 시에도 계속 동작할 수 있도록 설계
- 클라우드 환경은 보통 "신뢰성"보다는 "복원력" 중심으로 설계됨

**소프트웨어 오류**

- 예측 불가능한 systematic error가 많음
- 대응 방법:
  - 테스트 커버리지 확대
  - 프로세스 격리 및 자동 재시작
  - 프로덕션 환경의 동작 관찰과 모니터링 시스템 구축

**인적 오류**

- 가장 흔하면서도 위험한 문제
- 대응 전략:
  - 안전한 추상화와 API 제공
  - 실제 데이터와 분리된 **sandbox** 제공
  - 충분한 테스트(Unit, Integration, Acceptance)
  - 문제가 생겼을 때 빠르게 **롤백** 가능해야 함
  - 점진적 배포(Rollout)로 위험 분산
  - 교육 및 실습 필수

---

### 2. 확장성 (Scalability)

> 시스템이 증가하는 부하에 **잘 대처할 수 있는 능력**

#### 📌 부하(load)를 설명하는 **지표들**

- 웹 요청 수 (초당)
- DB read/write 비율
- 동시 사용자 수
- 캐시 적중률

※ 평균값만으로 판단하면 안 됩니다.  
예: 트위터에서는 팔로워 수가 많을수록 팬아웃 부하가 심해지지만, 트윗 빈도는 사용자마다 다릅니다. → **복합적인 부하 모델링 필요**

---

#### ⚙️ 성능 측정 지표

- **처리량 (Throughput)**: 초당 처리할 수 있는 작업 수
- **응답 시간 (Response Time)**: 사용자 입장에서 요청이 완료되기까지 걸리는 시간 (네트워크 지연 포함)
- **지연 시간 (Latency)**와는 개념적으로 다름

📌 **선두 차단(Head-of-line blocking)**:  
느린 요청 하나가 전체 요청 처리 흐름을 막는 현상.  
→ **클라이언트 기준의 응답 시간 측정이 매우 중요**

---

#### 📈 확장 전략

- **Vertical Scaling (Scale Up)**: 서버의 성능 자체를 키우기
- **Horizontal Scaling (Scale Out)**: 서버 수를 늘리기

read/write 비율, 데이터 크기, 응답 시간 요구사항, 접근 패턴 등 다양한 요소를 고려해 아키텍처를 설계해야 합니다.  
→ **부하를 예측하고 올바른 가정을 세우는 것**이 핵심입니다.

---

### 3. 유지보수성 (Maintainability)

> 시스템은 시간이 지남에 따라 **변경되기 쉬워야** 합니다.  
> 버그 수정, 운영 유지, 신규 기능 추가 등 대부분의 소프트웨어 비용이 여기에 쓰입니다.

---

### 🔧 유지보수성을 높이기 위한 3가지 설계 원칙

---

#### 1. **운용성 (Operability)**

- 반복 작업을 자동화하고 시스템을 쉽게 운영할 수 있어야 합니다.
- 시스템 상태를 관찰하고, 관리자가 효율적으로 대응할 수 있도록 해야 합니다.

#### 2. **단순성 (Simplicity)**

- 복잡성은 예산과 일정을 초과시키는 주범입니다.
- 예시: 상태 폭증, 모듈 간 강한 결합, 하드코딩 등
- 해결 방법: 추상화 도입 (예: Factory 패턴), 명확한 인터페이스 설계

#### 3. **발전성 (Evolvability)**

- 변화에 빠르게 적응할 수 있어야 합니다.
- 애자일 개발: TDD, 리팩토링 등의 활용
- 이 책에서는 **대규모 데이터 시스템 수준에서의 민첩성 확보 방법**도 함께 다룹니다.  
  예: 관계형 DB → 캐시 분리 구조로 진화

---
