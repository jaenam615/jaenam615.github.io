---
title: "교착 상태"
writer: James
date: 2024-06-08 15:18:00 +0900
categories: [cs, os]
tags: [cs, os]
pin: false
math: true
mermaid: true
image:
  path: https://github.com/jaenam615/jaenam615.github.io/assets/155196757/8a79a2ba-0312-4539-9467-28245cf2763a
---

## 정의
> 여러 개의 프로세스가 서로 상대방의 작업이 끝나기만 기다리고 있어 어느 쪽도 영원히 진행하지 못하는 상태  

## 교착상태와 기아상태의 차이

교착상태  
![deadlock](https://github.com/jaenam615/jaenam615.github.io/assets/155196757/8a79a2ba-0312-4539-9467-28245cf2763a)

- 영원히 멈춰있다  

기아상태  
![starvation](https://github.com/jaenam615/jaenam615.github.io/assets/155196757/5d48a58f-d76a-443f-8800-1020028f49ca)

- 언젠가는 시행될 가능성이 있다

## 교착상태의 특성

### 필요조건
- 상호배제
- 점유대기
- 비선점
- 환형대기 (순환대기)

> 네 가지 조건이 <b>동시에</b> 만족될 때 교착상태 발생 가능

#### 상호배제 (mutual exclusion)
- 프로세스가 자원에 대한 배타적인 통제권을 요구
- 적어도 하나 이상의 자원은 여러 프로세스에 의해 동시에 사용될 수 없음
- 다른 프로세스가 점유한 자원이 필요하면 반드시 대기

### 점유대기 (hold and wait)
- 프로세스가 이미 한 자원을 할당받아 점유하고 있는 상황에서 다른 프로세스가 점유하고 있는 또 다른 자원을 요구하여 해제되기를 기다리는 상황

### 비선점 (no preemption)
- 프로세스에 할당된 자원은 그 프로세스가 사용을 마치고 스스로 반환하기 전에는 해제되지 않음
- 할당된 자원은 타의에 의해서는 해제되지 않음

### 환형대기 (circular wait)
- 프로세스의 자원 점유 및 점유된 자원의 요구 관계가 환형을 이루며 대기하는 상황

## 자원할당 그래프 G = (V, E)

> V : 정점의 집합 V = P ∪ R
- P = {p1,p2,...,pn}: n개의 프로세스 
- R = {r1,r2,...,rm}: m개의 자원
> E : 방향 있는 간선의 집합 E = Q ∪ S
- Q = {(pi, rj): pi ∈ P, rj ∈ R}: 프로세스 pi가 자원 rj를 요구 
    요구간선 pi -> rj
- S = {(rj, pi): rj ∈ R, pi ∈ P}: 자원 rj가 프로세스 pi를 요구 
    할당간선 rj -> pi

[graph](https://jhi93.github.io/assets/img/os/ResourceAllocation.png)
